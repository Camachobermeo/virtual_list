<app-encabezado></app-encabezado>
<br>
<div class="container pb-5 col-lg-10 col-md-12 col-sm-12">
    <div class="text-center">
    </div>
    <form #frmTipoOperacion='ngForm'>
        <div class="text card m-2">
            <div class="card-header">
                <div class="row">
                    <div class="col-md-8">
                        <h3> {{esEdicion?'Modificar':'Registrar'}} Tipo Operación</h3>
                    </div>
                    <div class="col-md-4" style="text-align: right;">
                        <button type="button" routerLink="/tipo-operacion" class="btn btn-secondary"><i
                                class="fa fa-arrow-left" aria-hidden="true"></i> Regresar</button>
                        <button type="submit" (click)="guardarTipoOperacion(frmTipoOperacion)"
                            class="btn btn-success ms-1"><i class="fa fa-floppy-o" aria-hidden="true"></i>
                            Guardar</button>
                    </div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-1"></div>
                <div class="col-10">
                    <div class="form-group">
                        <label>Seleccione la Tienda</label>
                        <select class="form-select" aria-label="Default select example" [(ngModel)]="tiendaSeleccionada"
                            (ngModelChange)="listarTotems()" name="tiendaSeleccionada" required>
                            <option value="" disabled selected>Seleccione la Tienda</option>
                            <option *ngFor="let tienda of tiendas" [ngValue]="tienda.codigo">{{tienda.codigo}} --
                                {{tienda.direccion}}
                            </option>
                        </select>
                    </div>
                    <br>
                    <div class="form-group">
                        <label>Seleccione la Totem</label>
                        <select class="form-select" aria-label="Default select example"
                            [(ngModel)]="tipoOperacion.codigo_totem" name="totemSeleccionado" required>
                            <option value="" disabled selected>Seleccione la Totem</option>
                            <option *ngFor="let totem of totems" [ngValue]="totem.codigo">{{totem.codigo}} --
                                {{totem.ubicacion}}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="col-1"></div>
            </div>
            <br>
            <div class="row">
                <div class="col-1"></div>
                <div class="col-10">
                    <div class="form-group">
                        <label for="codigo">Codigo</label>
                        <input required name="codigo" class="form-control text-uppercase" [disabled]="esEdicion"
                            [(ngModel)]="tipoOperacion.codigo" placeholder="Ingrese el codigo">
                        <br>
                        <label for="descripcion">Descripcón</label>
                        <input required name="descripcion" class="form-control text-uppercase"
                            [(ngModel)]="tipoOperacion.descripcion" placeholder="Descripcion">
                        <br>
                    </div>
                </div>
                <div class="col-1"></div>
            </div>
            <br>
        </div>
    </form>
</div>
<div *ngIf="cargando">
    <app-cargando></app-cargando>
</div>
